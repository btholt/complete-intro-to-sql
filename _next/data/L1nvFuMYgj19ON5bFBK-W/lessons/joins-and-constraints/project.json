{"pageProps":{"post":{"attributes":{"description":""},"html":"<p>Your next project is the recipes side of the page. Here you will have a list of recipes, and if a user clicks on one of the recipes, they will be taken to the recipe page where they will see the recipe, the description, all the photos, and all the ingredients.</p>\n<p>You&#39;ll need to repopulate your <code>recipes_photos</code> table before beginning the project</p>\n<pre><code class=\"language-sql\">INSERT INTO recipes_photos\n  (recipe_id, url)\nVALUES\n  (1, &#39;cookies1.jpg&#39;),\n  (1, &#39;cookies2.jpg&#39;),\n  (1, &#39;cookies3.jpg&#39;),\n  (1, &#39;cookies4.jpg&#39;),\n  (1, &#39;cookies5.jpg&#39;),\n  (2, &#39;empanada1.jpg&#39;),\n  (2, &#39;empanada2.jpg&#39;),\n  (3, &#39;jollof1.jpg&#39;),\n  (4, &#39;shakshuka1.jpg&#39;),\n  (4, &#39;shakshuka2.jpg&#39;),\n  (4, &#39;shakshuka3.jpg&#39;),\n  (5, &#39;khachapuri1.jpg&#39;),\n  (5, &#39;khachapuri2.jpg&#39;);\n-- no pictures of xiao long bao\n</code></pre>\n<p>Alternatively, here&#39;s a <a href=\"/recipes.sql\">big SQL query which a bunch of recipes.</a> This will tear down all your tables and recreate them! This is helpful if you need to restart but be aware if you&#39;ve added things this will delete them.</p>\n<p>Here&#39;s a hint on selecting just the first image for all the recipe photos.</p>\n<pre><code class=\"language-sql\">SELECT DISTINCT ON (r.recipe_id)\n  *\nFROM\n  recipes r\nLEFT JOIN\n  recipes_photos rp\nON\n  r.recipe_id = rp.recipe_id;\n</code></pre>\n<p>That distinct ensures that we only have one recipe per image and not a bunch of rows of images and rows. The distinct bit means that&#39;s only one <code>recipe.recipe_id</code> is allowed in this results set. If we left part out, we&#39;d get all the photos back which we don&#39;t need for the first page.</p>\n<p>For the second page, you will likely need to query the database twice. That&#39;s just fine. Only have one query where it makes sense.</p>\n<p>Again, you will only be editing recipes/api.js. You <em>can</em> edit other things if you want to but it shouldn&#39;t be necessary.</p>\n<p>Alright, good luck! Tweet me your results!</p>\n","slug":"project","title":"Project","section":"Joins and Constraints","icon":"code-merge","filePath":"/home/runner/work/complete-intro-to-sql/complete-intro-to-sql/lessons/04-joins-and-constraints/F-project.md","nextSlug":"/lessons/jsonb/unstructured-data","prevSlug":"/lessons/joins-and-constraints/constraints"}},"__N_SSG":true}